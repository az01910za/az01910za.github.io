<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="John Doe"><link rel="alternative" href="/atom.xml" title="昵称不可为空" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>git搭建 - 昵称不可为空</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">昵称不可为空</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/tags">标签</a></li><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-07-27T15:38:41.109Z">2019 - 07 - 27 23:38:41</time><h1 class="post__title"><a href="/2019/07/27/git搭建/">git搭建</a></h1><div class="post__main echo"><h2 id="centos"><a href="#centos" class="headerlink" title="centos"></a>centos</h2><p>yum install git  (/etc/yum.repos.d/ vim CentOS-Base.repo)<br>[root@localhost ~]# useradd gits<br>[root@localhost ~]# cd /home/gits/<br>[root@localhost gits]# su gits<br>[gits@localhost ~]$ pwd<br>/home/gits<br>[gits@localhost ~]$ mkdir .ssh/<br>[gits@localhost ~]$ cd .ssh/<br>[gits@localhost ~]$ chmod 700 .ssh/<br>[gits@localhost .ssh]$ touch authorized_keys<br>[gits@localhost .ssh]$ chmod 600 authorized_keys<br>[gits@localhost .ssh]$ cd<br>[gits@localhost ~]$ mkdir Project<br>[gits@localhost ~]$ cd Project/<br>[gits@localhost Project]$ pwd<br>/home/gits/Project<br>[gits@localhost Project]$ git init –bare icq.git<br>[gits@localhost Project]$ cd icq.git/<br>[gits@localhost icq.git]$ ll<br>[root@localhost gits]# cd /etc/ssh<br>[root@localhost ssh]# gedit sshd_config<br>RSAAuthentication yes<br>PubkeyAuthentication yes<br>[gits@localhost ~]$ cd .ssh/<br>[gits@localhost .ssh]$ vim authorized_keys 将密钥导入</p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>powershell<br>PS C:\Users\ZWH&gt; ssh-keygen.exe<br>Your identification has been saved in C:\Users\ZWH/.ssh/id_rsa.<br>Your public key has been saved in C:\Users\ZWH/.ssh/id_rsa.pub.<br>PS C:\Users\ZWH&gt; type ..ssh\id_rsa.pub  得到密钥</p>
<p>PS C:\Users\ZWH&gt; ssh gits@ip<br>PS C:\Users\ZWH&gt; cd .\Desktop<br>PS C:\Users\ZWH\Desktop&gt; git clone <a href="mailto:gits@192.168.100.122" target="_blank" rel="noopener">gits@192.168.100.122</a>:/home/gits/Project/icq.git</p>
<h2 id="git服务器"><a href="#git服务器" class="headerlink" title="git服务器"></a>git服务器</h2><p>yum install git<br>创建用户git  //管理git中所有项目<br>切换到git用户，在git用户家目录中创建.ssh文件夹，修改权限为700 //ssh服务的限制<br>在.ssh文件夹下创建authorized_keys文件，修改权限为600 // ssh服务的限制<br>//如果权限不正确，认证会失败</p>
<h2 id="git客户端"><a href="#git客户端" class="headerlink" title="git客户端"></a>git客户端</h2><p>安装git软件 //git for windows/linux<br>win10 使用ssh创建公钥和私钥对<br>ssh-keygen -t rsa 就会在家目录创建 .ssh文件夹，里面有二个文件<br>将公钥（.pub结尾的）写入服务器的authorized_keys文件中<br>git clone git@ip:/home/git/project/icq.git<br>git pull/push</p>
<h2 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h2><p>git clone 主题地址，将下载的主题移到blog的主题themes下<br>在blog主题文件夹下打开powershell: hexo clean  hexo g重新加载  hexo s</p>
</div></header></article><section class="reward"><a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechat.png" title="微信"></div></section></main><footer class="foot"><div class="foot-copy">&copy; 2016 - 2019 John Doe</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>